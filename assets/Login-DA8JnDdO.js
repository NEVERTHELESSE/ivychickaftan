import{r as d,j as e,L as c,a as x,e as l}from"./index-7e5pYmP3.js";import{H as m}from"./Helmet-DoTeLYF0.js";function g(){const[s,r]=d.useState({email:"",password:"",loading:!1}),o="http://192.168.124.1:9000/api/";function i(t){t.preventDefault(),r(a=>({...a,loading:!0})),setTimeout(()=>{r(a=>({...a,loading:!1}))},5e3),x.post(`${o}login`,{email:s.email,password:s.password}).then(a=>{a.data=="user not found"?l("Invalid user name or password",{variant:"warning"}):a.data.username?(window.localStorage.setItem("token",a.data.token),l(`Welcome ${a.data.username}`,{variant:"success"}),setTimeout(()=>{window.location.replace("/")},1e3)):l("There was an error while processing your request, kindly try again",{variant:"error"})})}function n(t){r(a=>({...a,[t.target.name]:t.target.value}))}return e.jsxs("div",{className:"flex items-center justify-around p-12",children:[e.jsxs(m,{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("title",{children:"Log in to your Kaftans Account"}),e.jsx("link",{rel:"canonical",href:"http://localhost:5173/login"})]}),e.jsxs("form",{className:"w-full sm:w-[40%] bg-primaryColor p-2 sm:p-4 rounded-lg",onSubmit:i,children:[e.jsx("p",{className:"text-3xl text-center font-bold",children:"Login to Kaftans"}),e.jsxs("div",{className:"flex flex-col m-2",children:[e.jsx("label",{className:"text-2xl",children:"Email Address"}),e.jsx("input",{className:"border-primaryColor border text-2xl rounded-lg  py-4 px-3",placeholder:" ",type:"email",name:"email",required:!0,onChange:n})]}),e.jsxs("div",{className:"flex flex-col m-2",children:[e.jsx("label",{className:"text-2xl",children:"Password"}),e.jsx("input",{onChange:n,className:"border-primaryColor border text-2xl rounded-lg  py-4 px-3",placeholder:" ",type:"password",required:!0,minLength:6,name:"password"})]}),e.jsxs("div",{className:"flex text-2xl",children:[e.jsx("p",{children:"Don't have an account "}),e.jsx(c,{to:"/auth/register",className:"ml-2 text-blue-700 font-bold",children:"Create One"})]}),e.jsx("div",{className:"text-center my-4 flex items-center justify-center",children:s.loading?e.jsx("p",{className:"bg-gray-600 cursor-not-allowed text-2xl text-white rounded-lg py-2 px-8 w-",children:"Register"}):e.jsx("button",{type:"submit",className:"bg-black text-2xl text-white rounded-lg py-2 px-8",children:"Register"})})]}),e.jsx("img",{className:"w-[30rem] hidden sm:flex",src:"/images/cloth5.jpg"})]})}export{g as default};
